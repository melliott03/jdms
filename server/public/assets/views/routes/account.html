
<!-- BEGIN ACCOUNT HOLDING  -->
<div ng-controller="XAccountCtrl2" ng-cloak>
  <md-toolbar class="md-theme-light">
    <h2 class="md-toolbar-tools">
      <span class="account-page-headers">general</span>
    </h2>
  </md-toolbar>
  <md-content>
    <md-list>
      <md-list-item class="md-3-line xeditablecontainerInner" >
        <div class="md-list-item-text ">
          <!-- <div class="xeditablecontainer"> -->
            <form editable-form name="editableForm" onaftersave="saveUser()" >
              <div  ng-click="editableForm.$show()" ng-class="{'editable-click': enabled}" >
              <div>
                <!-- editable username (text with validation) -->
                <span class="title">Company Display Name: </span>
                <span class="focusoutlinenone" editable-text="user.name" e-name="name" onbeforesave="checkName($data)" e-required>{{ user.name || 'empty' }}</span>
              </div>

              <div>
                <!-- editable status (select-local) -->
                <span class="title">Country: </span>
                <span class="focusoutlinenone" editable-select="user.country" e-name="country" e-ng-options="s.value as s.text for s in countries">
                  {{ (countries | filter:{value: user.country})[0].text || 'Not set' }}
                </span>
              </div>
              <div>
                <!-- editable status (select-local) -->
                <span class="title">Busienss Type: </span>
                <span class="focusoutlinenone" editable-select="user.business_type" e-name="business_type" e-ng-options="s.value as s.text for s in business_types">
                  {{ (business_types | filter:{value: user.business_type})[0].text || 'Not set' }}
                </span>
              </div>

              <div>
                <!-- editable group (select-remote) -->
                <!-- <span class="title">Group: </span>
                <span editable-select="user.group" e-name="group" onshow="loadGroups()" e-ng-options="g.id as g.text for g in groups">
                {{ showGroup() }}
              </span> -->
            </div>

            <div>
              <!-- button to show form -->
              <!-- <button type="button" class="btn btn-default" ng-click="editableForm.$show()" ng-show="!editableForm.$visible">
                Edit
              </button> -->

              </span>
            </div>
            </div>
            <!-- buttons to submit / cancel form -->
            <span ng-show="editableForm.$visible">
              <md-button type="submit" class="md-raised" ng-disabled="editableForm.$waiting">
                Save
              </md-button>
              <md-button type="button" class="md-raised" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()">
                Cancel
              </md-button>
            </span>
          </form>
          <!-- </div> -->

      </div>
      <md-button class="md-secondary">respond</md-button>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
  </md-list>
</md-content>

  <md-toolbar class="md-theme-light">
    <h2 class="md-toolbar-tools">
      <span class="account-page-headers">verification & tax information</span>
    </h2>
  </md-toolbar>
  <md-content>
    <md-list>
      <md-list-item class="md-3-line" >
        <div class="md-list-item-text">
          <form class="" action="index.html" method="post">
            <p>
              Address all necessary identity verification.
              *The business type (individual or company)
              *Full name of the individual or company representative
              *Date of birth of the individual or company representative
              *Address of the individual or business (not required for Australian and U.S. managed accounts at this stage)
              tos_acceptance.ip
            </p>
            <p>
              Establish the contractor’s bank account (for transfers).
            </p>
            <p>
              Have your contractors agree to your terms of service.
            </p>
            <!-- external_account
            legal_entity.dob.day
            legal_entity.dob.month
            legal_entity.dob.year
            legal_entity.first_name
            legal_entity.last_name
            legal_entity.type
            tos_acceptance.date
            tos_acceptance.ip -->
            <label for="dob">Entity: </label>
            <input ng-model="contractorPersonal.dob" type="text" name="dob" id="dob" class="md-block"  flex-gt-sm />

            <label for="dob">DOB: </label>
            <input ng-model="contractorPersonal.dob" type="text" name="dob" id="dob" class="md-block"  flex-gt-sm />
            <label for="last4sos">last 4 digits of Social: </label>
            <input ng-model="contractorPersonal.last4sos" type="text" name="last4sos" id="last4sos" class="md-block"  flex-gt-sm />
            <p>
              By registering your account, you agree to our
              <a href="#terms" target="_blank" rel="noopener noreferrer">Terms of Service</a> and the <a href="https://stripe.com/connect/account-terms" target="_blank" rel="noopener noreferrer">Stripe Connected Account Agreement</a>.
            </p>
            <md-button ng-click="submitContractorPersonal(contractorPersonal)" class="md-raised">SUBMIT</md-button>
          </form>
        </div>
        <md-button class="md-secondary">respond</md-button>
        <md-divider ng-if="!$last"></md-divider>
      </md-list-item>

      <md-list-item class="md-3-line" >
        <div class="md-list-item-text">
          <p>
            Item two
          </p>
        </div>
        <md-button class="md-secondary">respond</md-button>
        <md-divider ng-if="!$last"></md-divider>
      </md-list-item>
    </md-list>
  </md-content>

  <md-toolbar class="md-theme-light">
    <h2 class="md-toolbar-tools">
      <span class="account-page-headers">payment sources</span>
    </h2>
  </md-toolbar>
  <md-content>
    <md-list>
      <md-list-item class="md-3-line" ng-repeat="item in messages">
        <div class="md-list-item-text">
          <h3>{{item.what}}</h3>
          <h4>{{item.who}}</h4>
          <p>{{item.notes}}</p>
        </div>
        <md-button class="md-secondary">respond</md-button>
        <md-divider ng-if="!$last"></md-divider>
      </md-list-item>
    </md-list>
  </md-content>
</div>
<!-- END ACCOUNT HOLDING  -->

<!-- START ANGULAR-CARD.JS -->
<div data-ng-controller="creditCardCtrl">

  <form action="#"
  name="cardForm"
  data-card
  data-width="300"
  data-card-container="#card-container"
  data-placeholders="cardPlaceholders"
  data-options="cardOptions"
  data-messages="cardMessages"
  >

  <div>
    <input placeholder="Card number" type="text" name="CardNumber" card-number data-ng-model="card.number" />

    <input placeholder="Full name" type="text" name="CardName" card-name data-ng-model="card.name" />
  </div>
  <div>
    <input placeholder="MM / YYYY" type="text" name="CardExpiry" card-expiry data-ng-model="card.expiry" />

    <input placeholder="CVC" type="text" name="CardCvc" card-cvc data-ng-model="card.cvc" />

    <input type="button" value="Change card" data-ng-click="changeCard()" />
    <input type="button" value="Clear" data-ng-click="clear()" />
  </div>

</form>

<div id="card-container"></div>

</div>
<!-- END ANGULAR-CARD.JS -->



<!-- BEGIN ANGULAR-CHECK.JS -->
<div data-ng-controller="checkCtrl">

  <form action="#"
  data-check
  data-width="300"
  data-check-container="#check-container"
  data-values="checkValues"
  >

  <div>
    <input placeholder="Bank Name" type="text" check-bank-name data-ng-model="check.bankName" />

    <input placeholder="Full name" type="text" check-name data-ng-model="check.name" />
  </div>
  <div>
    <input placeholder="Routing Number" type="text" check-routing-number data-ng-model="check.routingNumber" />

    <input placeholder="Account Number" type="text" check-account-number data-ng-model="check.accountNumber" />
  </div>
  <div>
    <input placeholder="Order" type="text" check-order data-ng-model="check.order" />
  </div>
  <div>
    <input type="button" value="Change check" data-ng-click="changeCheck()" />
    <input type="button" value="Clear" data-ng-click="clear()" />
  </div>

</form>

<div id="check-container"></div>

<!-- <script src="/assets/vendors/check/lib/js/check.js"></script>
<script src="/assets/vendors/angular-check/src/check.js"></script> -->


</div>
<!-- END ANGULAR-CHECK.JS -->



<!-- BEGIN PLAID NON-ANGULAR VERSION -->
<div ng-controller="plaidCtrl">
  <button id='linkButton'>Open Link - Institution Select</button>
  <script>
  var linkHandler = Plaid.create({
    selectAccount: true,
    env: 'tartan',
    clientName: 'Client Name',
    key: '09b483e7f2a23fc9ebc47dd904323f',
    product: 'auth',
    onLoad: function() {
      // The Link module finished loading.
    },
    onSuccess: function(public_token, metadata) {
      // The onSuccess function is called when the user has successfully
      // authenticated and selected an account to use.
      //
      // When called, you will send the public_token and the selected
      // account ID, metadata.account_id, to your backend app server.
      //
      var plaidSuccessObject = {
        public_token: public_token,
        account_id: metadata.account_id
      };
      $.post("/authenticate",
      {
        name: "Donald Duck",
        city: "Duckburg"
      },
      function(data, status){
        alert("Data: " + data + "\nStatus: " + status);
      });
      // sendDataToBackendServer({
      //   public_token: public_token,
      //   account_id: metadata.account_id
      // });

      angular.element(document.getElementById('plaidCtrl')).scope().sendDataToBackend(plaidSuccessObject);
      // angular.scope().sendDataToBackend(plaidSuccessObject);

      sendDataToBackend(plaidSuccessObject);
      console.log('Public Token: ' + public_token);
      console.log('Customer-selected account ID: ' + metadata.account_id);
    },
    onExit: function() {
      // The user exited the Link flow.
    },
  });

  // Trigger the standard Institution Select view
  document.getElementById('linkButton').onclick = function() {
    linkHandler.open();
  };
  </script>
</div>
<!-- END PLAID NON-ANGULAR VERSION -->

<!-- BEGIN PLAID NON-ANGULAR VERSION 2-->
<!-- <div ng-controller="plaidCtrl">
<button id='linkButton'>Open Plaid Link</button>
<script src="https://cdn.plaid.com/link/stable/link-initialize.js"></script>
<script>
var linkHandler = Plaid.create({
env: 'tartan',
clientName: 'Stripe / Plaid Test',
key: '09b483e7f2a23fc9ebc47dd904323f',
product: 'auth',
selectAccount: true,
onSuccess: function(public_token, metadata) { -->
<!-- // Send the public_token and account ID to your app server.
plaidObject.public_token = public_token;
plaidObject.metadata = public_token;
console.log('public_token: ' + public_token);
console.log('account ID: ' + metadata.account_id);
console.log('plaidObject: ', plaidObject);
sendToken(plaidObject);

},
});

// Trigger the Link UI
document.getElementById('linkButton').onclick = function() {
linkHandler.open();
};
</script>
</div> -->
<!-- END PLAID NON-ANGULAR VERSION 2-->

<!-- BEGIN PLAID ANGULAR VERSION -->
<!-- <div ng-controller="plaidCtrl">
<div class="container">
<div class="clearfix">
<h1 class="pull-left">Angular Plaid Link Example</h1>

<ul class="list-unstyled pull-right" style="margin-top: 10px;">
<li><strong>Docs:</strong></li>
<li><a href="https://github.com/plaid/link">Plaid Link</a></li>
<li><a href="https://github.com/csbarnes/angular-plaid-link">angular-plaid-link</a></li>
</ul>
</div>

<hr/>

<div class="row">
<div class="col-md-6">
<p><strong>Bank Select</strong></p>
<button class="btn btn-success" ng-click="openPlaid()" ng-disabled="!plaidIsLoaded()">
Link Account
</button>

<br/>
<br/>
<p><em>or</em></p>

<p><strong>Direct Bank Login</strong></p>

<button class="btn btn-primary" ng-click="openPlaid('us')" ng-disabled="!plaidIsLoaded()">
US Bank
</button>

<button class="btn btn-danger" ng-click="openPlaid('bofa')" ng-disabled="!plaidIsLoaded()">
Link Bank of America
</button>
</div>

<div class="col-md-6">
<h4>Public Token:</h4>
<pre>{{token}}</pre>
</div>
</div>
</div>
</div> -->
<script src="https://cdn.plaid.com/link/stable/link-initialize.js"></script>
<!-- END PLAID ANGULAR VERSION -->

<!-- BEGIN STRIPE PAYMENT FORM -->




<form  ng-submit="charge()" id="payment-form">
  <!-- action="/stripecc" method="POST" -->
  <span class="payment-errors"></span>

  <div class="form-row">
    <label>
      <span>Card Number</span>
      <input type="text" size="20" data-stripe="number" ng-model='payment.card.number' name="number">
    </label>
  </div>

  <div class="form-row">
    <label>
      <span>Expiration (MM/YY)</span>
      <input type="text" size="2" data-stripe="exp_month" ng-model='payment.card.exp_month'>
    </label>
    <span> / </span>
    <input type="text" size="2" data-stripe="exp_year" ng-model='payment.card.exp_year' name="expiry">
  </div>

  <div class="form-row">
    <label>
      <span>CVC</span>
      <input type="text" name="cvc" size="4" data-stripe="cvc" ng-model='payment.card.cvc' />
    </label>
  </div>

  <div class="form-row">
    <label>
      <span>Billing Zip</span>
      <input type="text" size="6" data-stripe="address_zip" ng-model='payment.card.address_zip'>
    </label>
  </div>

  <input type="submit" class="submit" value="Submit Payment">
</form>

<form action="/stripecc" method="POST">
  <script
  src="https://checkout.stripe.com/checkout.js" class="stripe-button"
  data-key="pk_test_C6pNjUH41hCQ87RXmeLBIAa5"
  data-amount="999"
  data-name="All Nations Translation & Interpretation, LLC."
  data-description="Widget"
  data-image="/img/documentation/checkout/marketplace.png"
  data-locale="auto"
  data-zip-code="true">
  </script>
</form>
<!-- END STRIPE PAYMENT FORM -->


<!-- BEGIN STRIPE CHECK PAYMENT FORM -->
<p>
  Enter Bank Acount Info
</p>
<form  ng-submit="ccAuthorize()" id="payment-form">
  <!-- action="/stripecc" method="POST" -->
  <span class="payment-errors"></span>
  <div class="form-row">
    <label>
      <span>Account Holder Type</span>
      <!-- <input type="text" ng-model='payment.check.account_holder_type'> -->
      <select name="singleSelect" id="singleSelect" ng-model="payment.check.account_holder_type">
        <option value="">---Please select---</option> <!-- not selected / blank option -->
        <option value="individual">individual</option> <!-- interpolation -->
        <option value="company">company</option>
      </select><br>
    </label>
  </div>

  <div class="form-row">
    <label>
      <span>Routing Number</span>
      <input type="text" size="20" ng-model='payment.check.routing_number'>
    </label>
  </div>

  <div class="form-row">
    <label>
      <span>Account Number</span>
      <input type="text" size="20" ng-model='payment.check.account_number' name="account_number">
    </label>
  </div>

  <div class="form-row">
    <label>
      <span>Name</span>
      <input type="text" ng-model='payment.check.account_holder_name' />
    </label>
  </div>

  <!-- <div class="form-row">
  <label>
  <span>Billing Address</span>
  <input type="text" size="6" data-stripe="address" ng-model='payment.check.address_line1'>
</label>
</div> -->

<input type="submit" class="submit" value="Submit Payment">
</form>
<!-- END STRIPE CHECK PAYMENT FORM -->

<strong>Enter micro depost amounts:</strong>
<p>
  These deposits will take 1-2 business days to appear on the customer’s online statement. The statement description for these deposits will be VERIFICATION. Your customer will need to relay the value of the two deposits to you.
  There is a limit of 10 failed verification attempts. Once this limit has been crossed, the bank account will be unable to be verified.
</p>
<form  ng-submit="submitBankMicroDeposits(microDeposit)">
  <!-- action="/stripecc" method="POST" -->
  <span class="payment-errors"></span>
  <div class="form-row">
    <label>
      <span>Deposit Amounts</span>
      <input type="text" size="2" ng-model='microDeposit.one' >
      <input type="text" size="2" ng-model='microDeposit.two' >
    </label>
  </div>
  <input type="submit" class="submit" value="Submit">
</form>

<!--  -->

<p>
  Enter your credit card information
</p>

<!-- <form action="/stripecc" method="POST" id="payment-form">
<span class="payment-errors"></span>

<div class="form-row">
<label>
<span>Card Number</span>
<input type="text" size="20" data-stripe="number">
</label>
</div>

<div class="form-row">
<label>
<span>Expiration (MM/YY)</span>
<input type="text" size="2" data-stripe="exp_month">
</label>
<span> / </span>
<input type="text" size="2" data-stripe="exp_year">
</div>

<div class="form-row">
<label>
<span>CVC</span>
<input type="text" size="4" data-stripe="cvc">
</label>
</div>

<div class="form-row">
<label>
<span>Billing Zip</span>
<input type="text" size="6" data-stripe="address_zip">
</label>
</div>

<input type="submit" class="submit" value="Submit Payment">
</form> -->



<p>
  please add your bank account:
</p>

<!-- BEGIN PLAID STUFF -->
<!-- <div ng-controller="plaidCtrl">
<div class="container">
<div class="clearfix">
<h1 class="pull-left">Angular Plaid Link Example</h1>

<ul class="list-unstyled pull-right" style="margin-top: 10px;">
<li><strong>Docs:</strong></li>
<li><a href="https://github.com/plaid/link">Plaid Link</a></li>
<li><a href="https://github.com/csbarnes/angular-plaid-link">angular-plaid-link</a></li>
</ul>
</div>

<hr/>

<div class="row">
<div class="col-md-6">
<p><strong>Bank Select</strong></p>
<button class="btn btn-success" ng-click="openPlaid()" ng-disabled="!plaidIsLoaded()">
Link Account
</button>

<br/>
<br/>
<p><em>or</em></p>

<p><strong>Direct Bank Login</strong></p>

<button class="btn btn-primary" ng-click="openPlaid('chase')" ng-disabled="!plaidIsLoaded()">
Link Chase
</button>

<button class="btn btn-danger" ng-click="openPlaid('bofa')" ng-disabled="!plaidIsLoaded()">
Link Bank of America
</button>
</div>

<div class="col-md-6">
<h4>Public Token:</h4>
<pre>{{token}}</pre>
</div>
</div>
</div>
</div>
<script src="https://cdn.plaid.com/link/stable/link-initialize.js"></script> -->
<!-- END PLAID STUFF -->















<!-- START INVITE -->
<hr>
<strong>
  Invite others to join your company
</strong>
<form action="/register" method="post">

  <md-input-container>
    <label for="email">EMAIL: </label>
    <input type="email" name="email" id="email" class="md-block" flex-gt-sm required/>
  </md-input-container>

  <input type="text" name="action" value="invite" hidden/>

  <md-button class="md-raised md-primary" type="submit" value="Register">Invite</md-button>

</form>
